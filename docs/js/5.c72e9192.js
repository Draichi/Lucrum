(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"713b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-layout",{attrs:{view:"lHh Lpr lFf"}},[r("q-toolbar",{class:[e.textColor,"q-px-lg"]},[r("q-avatar",[r("img",{staticClass:"custom-img",attrs:{src:a("cf05"),alt:"logo"}})]),r("q-toolbar-title",[e._v("\n      Lucrum\n    ")]),e.providerReady?r("q-avatar",{attrs:{color:"primary",size:"md","text-color":"white"}},[e._v("0x")]):r("q-btn",{attrs:{icon:"img:statics/metamask.svg",label:"Connect wallet","no-caps":"",flat:""},on:{click:e.connectMetamask}}),r("q-toggle",{attrs:{label:e.darkTheme?"Dark":"Light"},on:{input:function(t){return e.$q.dark.toggle()}},model:{value:e.darkTheme,callback:function(t){e.darkTheme=t},expression:"darkTheme"}})],1),r("q-page-container",[r("router-view")],1)],1)},n=[],o=(a("c5f6"),a("967e")),s=a.n(o),c=(a("96cf"),a("fa84")),i=a.n(c),l=a("016f"),d=a("e7ea"),u=d.Contract,w=d.providers,f=new w.Web3Provider(window.ethereum),m=f.getSigner(),p="0x65fc06E0Ae8b770CE5a6F9C457F14491D9fE5C76",h="0xd0a1e359811322d97991e03f863a0c30c2cf029c",b=new u(h,l["a"],m),g={name:"MainLayout",data:function(){return{darkTheme:this.$q.dark.isActive,providerReady:!1,walletAddress:null,ETHBalance:null}},created:function(){window.web3.currentProvider.publicConfigStore.on("update",this.setWalletStatus),this.providerReady=!!window.web3.currentProvider.selectedAddress},methods:{connectMetamask:function(){window.ethereum.enable().then(i()(s.a.mark((function e(){var t;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.approve(p,"10000000000000000000000000000");case 2:t=e.sent,localStorage.setItem("contractTx",t.hash);case 4:case"end":return e.stop()}}),e)}))))},setWalletStatus:function(e){var t=this;console.log(e),this.walletAddress=e.selectedAddress,this.$store.commit("orders/addSelectedAddress",e.selectedAddress),e.selectedAddress&&window.web3.eth.getBalance(e.selectedAddress,(function(e,a){t.ETHBalance=window.web3.fromWei(Number(a),"ether")})),this.providerReady=e.isUnlocked}},computed:{textColor:function(){return this.$store.getters["theme/textColor"]}}},v=g,k=(a("89d3"),a("2877")),x=a("eebe"),T=a.n(x),q=a("4d5a"),A=a("65c6"),C=a("cb32"),y=a("6ac5"),Q=a("9c40"),E=a("9564"),S=a("09e3"),L=Object(k["a"])(v,r,n,!1,null,null,null);t["default"]=L.exports;T()(L,"components",{QLayout:q["a"],QToolbar:A["a"],QAvatar:C["a"],QToolbarTitle:y["a"],QBtn:Q["a"],QToggle:E["a"],QPageContainer:S["a"]})},"89d3":function(e,t,a){"use strict";var r=a("b0e3"),n=a.n(r);n.a},b0e3:function(e,t,a){},cf05:function(e,t,a){e.exports=a.p+"img/logo.84786f33.png"}}]);