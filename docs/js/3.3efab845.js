(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"0081":function(e){e.exports=JSON.parse('{"a":[{"constant":true,"inputs":[],"name":"orderId","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"registry","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"uint256"}],"name":"userToOrderIds","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"orders","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_registry","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"orderId","type":"uint256"},{"indexed":true,"name":"orderAddr","type":"address"},{"indexed":false,"name":"returnAmount","type":"uint256"},{"indexed":false,"name":"by","type":"address"}],"name":"LogOrderOpen","type":"event"},{"constant":false,"inputs":[{"name":"_srcToken","type":"address"},{"name":"_dstToken","type":"address"},{"name":"_srcAmount","type":"uint256"},{"name":"_triggerPrice","type":"uint256"},{"name":"_expiryTime","type":"uint256"},{"name":"_isBuy","type":"bool"}],"name":"open","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"}]}')},"016f":function(e){e.exports=JSON.parse('{"a":[{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"Approval","type":"event"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"to","type":"address"},{"name":"amount","type":"uint256"}],"name":"transfer","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"amount","type":"uint256"}],"name":"approve","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"from","type":"address"},{"name":"to","type":"address"},{"name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]}')},"0565":function(e,t,n){"use strict";var a=n("1aee"),r=n.n(a);r.a},"11ef":function(e,t,n){"use strict";var a=n("88a9"),r=n.n(a);r.a},"1aee":function(e,t,n){},"2f20":function(e,t,n){"use strict";var a=n("7006"),r=n.n(a);r.a},"5edb":function(e,t,n){},7006:function(e,t,n){},"88a9":function(e,t,n){},"8b24":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"row q-mt-sm custom-row"},[n("div",{staticClass:"col-9 q-mx-md",attrs:{id:"tradingview-wrapper"}},[n("Chart"),n("OpenOrders")],1),n("div",{staticClass:"column col q-mr-md"},[n("NewOrder")],1)])])},r=[],i=n("967e"),s=n.n(i),o=(n("96cf"),n("fa84")),u=n.n(o),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col q-mt-md"},[n("q-table",{staticStyle:{height:"27vh"},attrs:{data:e.openOrders,columns:e.columns,pagination:e.pagination,"rows-per-page-options":[0],title:"Open orders","row-key":"name","virtual-scroll":""},scopedSlots:e._u([{key:"body",fn:function(t){return n("q-tr",{staticClass:"cursor-pointer",attrs:{props:t}},e._l(t.cols,(function(a){return"id"!=a.name?n("q-td",{key:a.name,attrs:{props:t}},[e._v("\n        "+e._s(a.value)+"\n      ")]):n("q-td",{attrs:{align:"right"}},[n("q-btn",{attrs:{flat:""},on:{click:function(n){return e.cancelOrder(t.row)}}},[e._v("cancel order")])],1)})),1)}}])})],1)},l=[],p={data:function(){return{pagination:{rowsPerPage:1e3},columns:[{name:"pair",label:"Pair",field:"pair",sortable:!0,align:"left"},{name:"price",label:"Price",field:"price"},{name:"amount",label:"Amount",field:"amount"},{name:"expiration",label:"Expiration time",field:"expiration"},{name:"type",label:"Buy/Sell",field:"type"},{name:"status",label:"Status",field:"status"},{name:"gain",label:"Gains",field:"gain"},{name:"etherscan",label:"Link",field:"etherscan"},{name:"id",label:"Action",align:"right",field:"id"}]}},methods:{cancelOrder:function(e){var t=this.openOrders.indexOf(e);this.$store.commit("orders/cancel",t)}},computed:{openOrders:function(){return this.$store.getters["orders/data"]}}},d=p,m=(n("e768"),n("2877")),f=n("eebe"),y=n.n(f),b=n("eaac"),h=n("bd08"),v=n("db86"),g=n("9c40"),w=Object(m["a"])(d,c,l,!1,null,null,null),x=w.exports;y()(w,"components",{QTable:b["a"],QTr:h["a"],QTd:v["a"],QBtn:g["a"]});var O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-card",{staticClass:"col q-pa-md"},[n("div",{class:["text-subtitle1",e.textColor]},[e._v("Place an order")]),n("q-form",{staticClass:"column justify-evenly fit",on:{submit:e.onSubmit,reset:e.onReset}},[n("div",{staticClass:"col"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("q-input",{ref:"amount",attrs:{rules:[function(e){return e&&e.length>0||"Please type something"}],label:"Amount",type:"number",outlined:"","no-error-icon":"","lazy-rules":""},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}})],1),n("div",{staticClass:"col q-ml-sm"},[n("q-input",{ref:"price",attrs:{rules:[function(e){return null!==e&&""!==e||"Please type the price"}],label:"Price",type:"number","lazy-rules":"","no-error-icon":"",outlined:""},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}})],1)])]),n("div",{staticClass:"col"},[n("q-btn-toggle",{attrs:{spread:"","no-caps":"","toggle-color":"buy"==e.type?"positive":"negative",color:"white","text-color":"black",options:[{label:"Buy",value:"buy"},{label:"Sell",value:"sell"}]},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),n("div",{staticClass:"col"},[n("q-input",{ref:"expiration",attrs:{rules:[function(e){return e&&e.length>0||"Please type something"}],label:"Expiration (in days)",type:"number","lazy-rules":"","no-error-icon":"",outlined:""},model:{value:e.expiration,callback:function(t){e.expiration=t},expression:"expiration"}})],1),n("div",{staticClass:"col column justify-end custom-buttons__container"},[n("q-btn",{attrs:{label:"Submit",color:"primary"},on:{click:e.onSubmit}}),n("div",{staticClass:"column items-end"},[n("div",{staticClass:"row"})])],1)])],1)},C=[],k=n("0081"),P=n("016f"),_=n("e7ea"),q=_.Contract,S=_.providers,T=new S.Web3Provider(window.ethereum),j=T.getSigner(),A="0x65fc06E0Ae8b770CE5a6F9C457F14491D9fE5C76",E="0xd0a1e359811322d97991e03f863a0c30c2cf029c",$="0xca40928f22b7260a91de8aa62d4372a19f2e32ca",D=new q(E,P["a"],j),M={data:function(){return{type:"buy",amount:null,price:null,expiration:new Date(1.01*(new Date).getTime()).getTime(),gain:Math.random().toFixed(4),provider:new S.Web3Provider(window.ethereum),signer:T.getSigner(),contract:new q(A,k["a"],j)}},methods:{onSubmit:function(){var e=this;this.$store.commit("orders/newOrder",{pair:this.model,price:this.price,type:this.type,amount:this.amount,gain:this.gain,expiration:new Date(1.01*(new Date).getTime()).getTime(),status:"open",id:Math.random()}),this.contract.open(E,$,3,200,1590722871,!0),this.onReset();var t=["price","amount","expiration"];t.forEach((function(t){return e.$refs[t].resetValidation()}))},onReset:function(){this.price=null,this.amount=null,this.expiration=null}},computed:{textColor:function(){return this.$store.getters["theme/textColor"]},model:function(){return this.$store.getters["pairs/model"]}},mounted:function(){return u()(s.a.mark((function e(){var t;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D.approve(A,"10000000000000000000000000000");case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})))()}},B=M,Q=(n("2f20"),n("f09f")),z=n("0378"),I=n("27f9"),R=n("6a67"),G=n("3786"),F=n("8572"),J=Object(m["a"])(B,O,C,!1,null,null,null),L=J.exports;y()(J,"components",{QCard:Q["a"],QForm:z["a"],QInput:I["a"],QBtnToggle:R["a"],QRadio:G["a"],QBtn:g["a"],QField:F["a"]});var N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showGraph?n("q-card",{staticClass:"custom-graph-card"},[n("trading-vue",{attrs:{titleTxt:"WETH/DAI",width:e.width,height:e.height,data:e.data,colorBack:e.colorBack,colorGrid:e.colorGrid,colorText:e.colorText}})],1):n("div",{staticClass:"fit row items-center justify-center"},[n("q-spinner-hourglass",{attrs:{color:"primary",size:"4em"}})],1)},H=[],W=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c47a")),K=n.n(W),V=n("0042"),U=n.n(V),X=n("2f62");function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){K()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee={components:{TradingVue:U.a},data:function(){return{width:"500",height:"500"}},mounted:function(){this.onResize(),window.addEventListener("resize",this.onResize)},methods:{onResize:function(){this.width=document.getElementById("tradingview-wrapper").getBoundingClientRect().width-20,this.height=document.getElementById("tradingview-wrapper").getBoundingClientRect().height-20}},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},computed:Z({},Object(X["b"])("pairs",["model","data","showGraph"]),{colorBack:function(){return this.$q.dark.isActive?"#27293d":"#f5f5f5"},colorGrid:function(){return this.$q.dark.isActive?"#20223a":"#edeff2"},colorText:function(){return this.$q.dark.isActive?"#f5f5f5":"#000000"}})},te=ee,ne=(n("11ef"),n("9149")),ae=Object(m["a"])(te,N,H,!1,null,"9efdc686",null),re=ae.exports;y()(ae,"components",{QCard:Q["a"],QSpinnerHourglass:ne["a"]});var ie={cryptoCompareApiKey:"3d7d3e9e6006669ac00584978342451c95c3c78421268ff7aeef69995f9a09ce"},se=ie,oe={name:"PageIndex",components:{Chart:re,OpenOrders:x,NewOrder:L},created:function(){var e=this;this.$store.commit("pairs/updateShowGraphState",!1),this.getApiPrice(),setInterval((function(){e.getApiPrice()}),6e4)},methods:{getApiPrice:function(){var e=this;return u()(s.a.mark((function t(){var n,a,r;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("https://min-api.cryptocompare.com/data/v2/histominute?fsym=ETH&tsym=DAI&limit=100&api_key=".concat(se.cryptoCompareApiKey));case 2:n=t.sent,a=n.data.Data.Data,r=a.map((function(e){return[1e3*e.time,e.open,e.high,e.low,e.close,e.volumefrom]})),e.$store.commit("pairs/setData",r),e.$store.commit("pairs/updateShowGraphState",!0);case 7:case"end":return t.stop()}}),t)})))()}}},ue=oe,ce=(n("0565"),Object(m["a"])(ue,a,r,!1,null,null,null));t["default"]=ce.exports},e768:function(e,t,n){"use strict";var a=n("5edb"),r=n.n(a);r.a}}]);